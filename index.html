<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Population Shifts in Malaysia: Visualizing Key Trends (1970–2024)</title>

    <!-- Vega and Vega-Lite libraries for interactive visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

    <!-- Pure CSS for a minimalist layout -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Custom CSS for styling -->
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

    <div class="page">
        <!-- Page title and description -->
        <h1>Population Shifts in Malaysia: Visualizing Key Trends (1970–2024)</h1>
        <p style="text-align: center; font-size: 22px;">
            This visualization explores Malaysia’s population trends from 1970 to 2024, providing insights into growth, diversity, and demographic shifts across states. Through four key graphs, we’ll examine state populations, ethnic distributions, and age structures, offering a complete picture of the country's evolving population landscape.
        </p>
    </div>

    <div class="page">
        <!-- Container for visualizations (Choropleth map and Bar chart with descriptions) -->
        <div class="vis-container">
            <!-- Choropleth Map and its description -->
            <div class="vis-row">
                <div class="vis-item-map" id="choropleth_map"></div>
                <div class="description-map">
                    <strong>
                        State Population Distribution in Malaysia (2024)
                    </strong>
                    <p>
                        The map displays Malaysia’s state populations for 2024. 
                        It highlights differences in population size across states. 
                        Urban hubs like Selangor and Kuala Lumpur dominate numbers, 
                        providing an up-to-date overview of population distribution.    
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="page">
        <div class="vis-container">
            <!-- Line Chart and its description -->
            <div class="vis-row">
                <div class="vis-item-line" id="line_chart"></div>
                <div class="description-line">
                    <strong>
                        Population Growth Trends Across Malaysian States (1970-2024)
                    </strong>
                    <p>
                        This line graph tracks population growth across states from 1970. 
                        It reveals long-term trends in urban and rural areas. 
                        Urban areas show rapid growth, while rural regions remain static. 
                        Use filters to examine specific states in detail.    
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="page">
        <div class="vis-container">
            <!-- Pie Chart and its description -->
            <div class="vis-row">
                <div class="vis-item-pie" id="pie_chart"></div>
                <div class="description-pie">
                    <strong>
                        Ethnic Diversity Across Malaysian States (Annual Distribution)
                    </strong>
                    <p>
                        The pie chart illustrates the ethnic composition of each state, showcasing Malaysia’s multicultural fabric. By visualizing changes over time, it displays shifts in ethnic proportions since 1980, driven by migration and societal changes in different regions. Filter to see individual states, or move the slider to see how ethnic diversity has changed over time.    
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="page">
        <div class="vis-container">
            <!-- Bar Chart and its description -->
            <div class="vis-row">
                <div class="vis-item-bar" id="bar_chart"></div>
                <div class="description-bar">
                    <strong>
                        Gender distribution by Age MY
                    </strong>
                    <p>
                        The population pyramid visualizes the age and sex distribution per state, with blue representing the male population and pink representing the female population. It shows how Malaysia's demographic has evolved over time as factors such as life expectancy and birth rate change. It highlights aging trends in some states and youthful populations in others, offering insights into workforce and social dynamics. This graph may help illustrate the impact of historical events on the birth and death rates of each generation.    
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="page">    
        <!-- Data source and acknowledgments -->
        <h3></h3>
        <p class="data-source">
            <a href="https://data.gov.my/data-catalogue/population_state" target="_blank"><h2>Data Source</h2></a>
        </p>
    </div>

    <!-- Embedding Vega specifications for visualizations -->
    <script type="text/javascript">
        // Embed Choropleth Map
        var spec1 = "https://raw.githubusercontent.com/Arrtish2702/FIT3179_A2/main/a2-map-arrtish.vg.json";
        vegaEmbed('#choropleth_map', spec1, {"actions": false}).catch(console.error);

        // Embed Line Chart
        var spec2 = "https://raw.githubusercontent.com/Arrtish2702/FIT3179_A2/main/a2-line-chart-arrtish.vg.json";
        vegaEmbed('#line_chart', spec2, {"actions": false}).catch(console.error);

        // Embed Pie Chart
        var spec3 = "https://raw.githubusercontent.com/Arrtish2702/FIT3179_A2/main/a2-pie-ethn.vg.json";
        vegaEmbed('#pie_chart', spec3, {"actions": false}).catch(console.error);

        // Embed Bar Chart
        var spec4 = "https://raw.githubusercontent.com/Arrtish2702/FIT3179_A2/main/a2-pop-pyr-arrtish.vg.json";
        vegaEmbed('#bar_chart', spec4, {"actions": false}).catch(console.error);
    </script>

</body>
</html>
